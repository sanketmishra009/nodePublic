<label for="quota">Number of primes:</label>
<input type="text" id="quota" name="quota" value="10" />

<button id="generate">Generate primes</button>
<button id="reload">Reload</button>

<div id="output"></div>

<script>
    const MAX_PRIME = 1000000;

function isPrime(n) {
  for (let i = 2; i <= Math.sqrt(n); i++) {
    if (n % i === 0) {
      return false;
    }
  }
  return n > 1;
}

const random = (max) => Math.floor(Math.random() * max);

function generatePrimes(quota) {
  const primes = [];
  while (primes.length < quota) {
    const candidate = random(MAX_PRIME);
    if (isPrime(candidate)) {
      primes.push(candidate);
    }
  }
  return primes;
}

const quota = document.querySelector("#quota");
const output = document.querySelector("#output");

document.querySelector("#generate").addEventListener("click", () => {
  const primes = generatePrimes(quota.value);
  output.textContent = `Finished generating ${quota.value} primes!`;
  const para = document.createElement('p');
  out = "";
  primes.forEach((prime)=>{
    console.log(prime.toString());
    out+=prime.toString();
    out+=' , ';
  })
  out = out.slice(0,-3);
  out+='\n';
  para.textContent = out;
  output.appendChild(para);
});

document.querySelector("#reload").addEventListener("click", () => {
  document.location.reload();
});

</script>